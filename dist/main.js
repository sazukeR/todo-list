(()=>{"use strict";function t(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var e=document.getElementById("taskList");function n(t){e.innerHTML="",t.length>0&&t.forEach((function(t){var n=document.createElement("li");n.innerHTML='<div class="taskInputs">\n                          <input type="checkbox" '.concat(t.selected?"checked":"",'>\n                          <input class="none" type="text" id="').concat(t.id,'" name="').concat(t.id,'">\n                          <label class="label ').concat(t.selected?"completed":"",'" for="').concat(t.id,'">').concat(t.desc,'</label>\n                        </div>\n                        <div class="buttonsContainer">\n                          <button class="options-button" type="button"><i class="fa-solid fa-ellipsis-vertical"></i></button>\n                          <button class="delete-button none" type="button"><i class="fa-solid fa-trash"></i></button>\n                        </div>'),e.appendChild(n)})),localStorage.setItem("tasks",JSON.stringify(t))}const r=function(e){if(""!==e.value.trim()){var r={id:"task-".concat(Date.now().toString()+Math.random().toString(36)),desc:e.value,selected:!1},o=JSON.parse(localStorage.getItem("tasks"));n((o.length,[].concat(function(e){if(Array.isArray(e))return t(e)}(i=o)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(i)||function(e,n){if(e){if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}}(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[r]))),e.value=""}var i};function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){c(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==o(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===o(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const l=function(t){if(""!==t.target.value.trim()){var e=[t.target.parentNode.nextElementSibling.firstElementChild,t.target.parentNode.nextElementSibling.lastElementChild],n=t.target,r=n.parentElement.parentElement,o=n.nextElementSibling;o.classList.remove("none"),n.classList.add("none"),r.classList.remove("backgroundEdit"),e[0].classList.remove("none"),e[1].classList.add("none"),o.textContent=n.value;var i=JSON.parse(localStorage.getItem("tasks")),c=n.id,l=i.map((function(t){return t.id===c?a(a({},t),{},{desc:n.value}):t}));localStorage.setItem("tasks",JSON.stringify(l))}};function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){f(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function f(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==s(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===s(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}document.addEventListener("DOMContentLoaded",(function(){var t=JSON.parse(localStorage.getItem("tasks"))||[{id:"task1",desc:"wash the dogs",selected:!1},{id:"task2",desc:"fix car",selected:!1},{id:"task3",desc:"complete to do list",selected:!1}];null!=t&&n(t)})),document.addEventListener("click",(function(t){if(t.target.matches(".clear-button")||t.target.matches(".clear-button *")){var e=document.querySelectorAll("li"),n=JSON.parse(localStorage.getItem("tasks")).filter((function(t){return!t.selected}));localStorage.setItem("tasks",JSON.stringify(n)),e.forEach((function(t){t.querySelector('input[type="checkbox"]').checked&&t.remove()}))}if(t.target.matches(".delete-button")||t.target.matches(".delete-button *")){var r=t.target.closest("li").firstElementChild.children[1].id,o=JSON.parse(localStorage.getItem("tasks")).filter((function(t){return t.id!==r}));localStorage.setItem("tasks",JSON.stringify(o)),document.getElementById(r).closest("li").remove()}})),document.addEventListener("change",(function(t){if(t.target.matches('input[type="checkbox"]')){var e=JSON.parse(localStorage.getItem("tasks")),n=t.target.nextElementSibling.id,r=t.target.nextElementSibling.nextElementSibling;t.target.checked?r.classList.add("completed"):r.classList.remove("completed");var o=e.map((function(e){return e.id===n?d(d({},e),{},{selected:t.target.checked}):e}));localStorage.setItem("tasks",JSON.stringify(o))}})),document.getElementById("taskInput").addEventListener("keydown",(function(t){return function(t){13===t.keyCode&&(t.preventDefault(),r(t.target))}(t)})),document.addEventListener("click",(function(t){return function(t){if(t.target.matches(".label")){var e=t.target,n=t.target.previousElementSibling,r=[t.target.parentNode.nextElementSibling.firstElementChild,t.target.parentNode.nextElementSibling.lastElementChild];document.querySelectorAll(".buttonsContainer").forEach((function(t){t.firstChild.nextElementSibling.classList.remove("none"),t.lastChild.previousElementSibling.classList.add("none"),t.parentElement.classList.remove("backgroundEdit")})),e.classList.add("none"),n.classList.remove("none"),r[0].classList.add("none"),r[1].classList.remove("none"),t.target.parentElement.parentElement.classList.add("backgroundEdit"),n.value=e.textContent,n.focus(),n.addEventListener("keydown",(function(t){13===t.keyCode&&l(t)})),n.addEventListener("blur",(function(t){t.relatedTarget&&t.relatedTarget.matches(".delete-button")||(""===n.value.trim()&&(n.value=e.textContent),l(t))}))}}(t)}))})();