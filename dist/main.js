(()=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function n(t){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?e(Object(a),!0).forEach((function(e){r(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):e(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function r(t,e,n){return(e=s(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,s(r.key),r)}}function s(e){var n=function(e,n){if("object"!==t(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,"string");if("object"!==t(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===t(n)?n:String(n)}(new(function(){function t(){var e,n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.preTasks=[{id:111,desc:"wash the dogs",selected:!1},{id:222,desc:"fix car",selected:!1},{id:333,desc:"complete to do list",selected:!1}],this.tasks=JSON.parse(localStorage.getItem("tasks"))||(function(t){if(Array.isArray(t))return a(t)}(e=this.preTasks)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(e)||function(t,e){if(t){if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(t,e):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),this.$clearButton=document.querySelector(".clear-button"),this.$inputEntryTask=document.getElementById("taskInput"),document.addEventListener("change",(function(t){t.target.matches("#taskInput")&&n.addTask({id:Date.now(),desc:t.target.value,selected:!1}),t.target.matches('input[type="checkbox"]')&&n.updateCheckbox()})),this.editTask()}var e,r;return e=t,(r=[{key:"updateCheckbox",value:function(){var t=this;this.checks=document.querySelectorAll('input[type="checkbox"]'),this.tasks.forEach((function(e,n){var r=t.checks[n];e.selected=r.checked,t.updateLocalStorage()}))}},{key:"addTask",value:function(t){""!==t&&(this.tasks.push(t),this.updateLocalStorage(),this.$inputEntryTask.value="")}},{key:"editTask",value:function(){var t=this;document.addEventListener("click",(function(e){if(e.target.matches(".clear-button")&&(t.tasks=t.tasks.filter((function(t){return!t.selected})),t.updateLocalStorage()),e.target.matches("label")){var r=e.target.previousElementSibling,a=e.target,o=e.target.closest("li"),s=e.target.parentElement.nextElementSibling.lastElementChild,i=e.target.parentElement.nextElementSibling.firstElementChild;r.value=a.textContent,r.classList.remove("none"),a.classList.add("none"),s.classList.remove("none"),i.classList.add("none"),o.classList.add("backgroundEdit"),r.addEventListener("keydown",(function(e){13===e.keyCode&&(t.tasks=t.tasks.map((function(t){return parseInt(t.id,10)===parseInt(r.id,10)?n(n({},t),{},{desc:r.value}):t})),t.updateLocalStorage())})),r.addEventListener("blur",(function(e){e.relatedTarget&&e.relatedTarget.matches(".delete-button")&&(t.tasks=t.tasks.filter((function(t){return parseInt(t.id,10)!==parseInt(r.id,10)&&n({},t)})),t.updateLocalStorage()),""===r.value.trim()&&(r.value=a.textContent),t.tasks=t.tasks.map((function(t){return parseInt(t.id,10)===parseInt(r.id,10)?n(n({},t),{},{desc:r.value}):t})),t.updateLocalStorage()}))}}))}},{key:"updateLocalStorage",value:function(){localStorage.setItem("tasks",JSON.stringify(this.tasks)),this.renderTasks()}},{key:"renderTasks",value:function(){var t=document.getElementById("taskList");t.innerHTML="",this.tasks.forEach((function(e){var n=document.createElement("li");n.innerHTML='<div class="taskInputs">\n                                   <input type="checkbox" '.concat(e.selected?"checked":"",'>\n                                   <input class="none" type="text" id="').concat(e.id,'" name="').concat(e.id,'">\n                                   <label class="label ').concat(e.selected?"completed":"",'" for="').concat(e.id,'" ').concat(e.selected?"checked":"",">").concat(e.desc,'</label>\n                               </div>\n                               <div class="buttonsContainer">\n                                   <button class="options-button" type="button"><i class="fa-solid fa-ellipsis-vertical"></i></button>\n                                   <button class="delete-button none" type="button"><i class="fa-solid fa-trash"></i></button>\n                              </div>'),t.appendChild(n)}))}}])&&o(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}())).renderTasks()})();